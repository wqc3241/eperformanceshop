jQuery(function(a){var c=function(){var f=a(".azirspares-mapper"),g=a(".azirspares-pin"),e=f.data("width"),d=f.data("height");g.each(function(){var i=a(this).data("top"),h=a(this).data("left");if(i.substr&&"%"!=i.substr(-1)){i=((i/d)*100)+"px"}if(h.substr&&"%"!=h.substr(-1)){h=((h/e)*100)+"px"}a(this).css({top:i,left:h,})})};var b=function(){var g=a(".azirspares-pin .action-pin");g.on("click",function(){var h=a(this),s=h.siblings(".azirspares-popup");if(!s.length){return}var r=h.closest(".azirspares-pin");if(r.hasClass("actived")){r.removeClass("actived");setTimeout(function(){s.removeAttr("style")},300);return}var x=r.data("position");s.css({transition:"none",width:"",left:""});setTimeout(function(){s.css({transition:""})});s.removeClass("remove-redirect right left top bottom");s.addClass(x);var i=h[0].getBoundingClientRect(),v=s[0].getBoundingClientRect(),w=s.width(),u=s.height(),j=a(window).width(),k=false;if(w>j){s.removeClass("right left top").addClass("bottom");s.width(j);k=true}else{switch(x){case"right":var p=j-(i.right+w+8);if(p<0){if(w>i.right){s.removeClass("right").addClass("bottom");k=false}else{s.removeClass("right").addClass("left")}}break;case"left":var n=i.left-w+8;if(n<0){if(w>i.right){s.removeClass("left").addClass("bottom");k=false}else{s.removeClass("left").addClass("right")}}break;case"top":var q=parseInt(r.css("top"));if(u>q){s.removeClass("top").addClass("bottom")}break;case"bottom":var m=parseInt(r.css("bottom"));if(u>m){s.removeClass("bottom").addClass("top")}break}}if(s.hasClass("top")||s.hasClass("bottom")){s.css("left",0);var o=s.offset();if(o.left<=0){s.css({left:-o.left});s.addClass("remove-redirect")}else{if(k){var y=o.left+j}else{var y=o.left+w}if(y>j){var l=j-y;s.css({left:l});s.addClass("remove-redirect")}else{s.css("left","")}}}a(".content-text").css({"max-height":w-80+"px",overflow:"auto"});a(".azirspares-mapper .azirspares-pin .azirspares-popup-header h2").css("max-width",w-10);if(s.hasClass("azirspares-image")){var t=s.find(".azirspares-popup-header").outerHeight(true);s.find(".azirspares-popup-main").css("height",(u-t))}setTimeout(function(){a(".azirspares-mapper .azirspares-pin.actived").removeClass("actived");r.addClass("actived")},300)});a(".azirspares-pin .close-modal").on("click",function(){var h=a(this).closest(".azirspares-pin"),i=h.find(".azirspares-popup");h.removeClass("actived");setTimeout(function(){i.removeAttr("style")},300)});var d="blur(2px)",e="grayscale(100%)",f=false;g.hover(function(){var h=a(this);f=true;h.closest(".blur").children("img").css("filter",d).css("webkitFilter",d).css("mozFilter",d).css("oFilter",d).css("msFilter",d);h.closest(".gray").children("img").css("filter",e).css("webkitFilter",e).css("mozFilter",e).css("oFilter",e).css("msFilter",e);h.closest(".mask").children(".mask").css("opacity",1)},function(){var h=a(this);f=false;h.closest(".azirspares-mapper").children("img").removeAttr("style");h.closest(".mask").children(".mask").removeAttr("style")})};window.addEventListener("load",function(d){c();b()},false)});